# æ»šåŠ¨æ¡å®ç°æ–¹æ¡ˆ

> åŸºäº Vue Vben Admin å’Œ FuAdmin æœ€ä½³å®è·µçš„æ»šåŠ¨æ¡å®ç°æ–¹æ¡ˆ

## ğŸ“‹ ç›®å½•

- [æ–¹æ¡ˆæ¦‚è¿°](#æ–¹æ¡ˆæ¦‚è¿°)
- [æ»šåŠ¨æ¡è®¾è®¡åŸåˆ™](#æ»šåŠ¨æ¡è®¾è®¡åŸåˆ™)
- [å®ç°æ–¹æ¡ˆ](#å®ç°æ–¹æ¡ˆ)
- [ä»£ç å®ç°](#ä»£ç å®ç°)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [å‚è€ƒå¯¹æ¯”](#å‚è€ƒå¯¹æ¯”)

---

## æ–¹æ¡ˆæ¦‚è¿°

### è®¾è®¡ç›®æ ‡

å‚è€ƒ Vue Vben Admin å’Œ FuAdmin çš„æ»šåŠ¨æ¡å®ç°ï¼Œè®¾è®¡ä¸€å¥—ç»Ÿä¸€çš„æ»šåŠ¨æ¡æ–¹æ¡ˆï¼Œå®ç°ï¼š

1. **ç»Ÿä¸€çš„æ»šåŠ¨æ¡æ ·å¼**ï¼šå…¨ç«™ä¸€è‡´çš„æ»šåŠ¨æ¡å¤–è§‚
2. **æ™ºèƒ½æ»šåŠ¨å®¹å™¨**ï¼šæ ¹æ®å†…å®¹è‡ªåŠ¨æ˜¾ç¤º/éšè—æ»šåŠ¨æ¡
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¹³æ»‘æ»šåŠ¨ï¼Œå‡å°‘é‡ç»˜
4. **å“åº”å¼é€‚é…**ï¼šä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„æœ€ä½³ä½“éªŒ

### æ ¸å¿ƒç‰¹æ€§

- âœ… **è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼**ï¼šç»†çª„ã€ç¾è§‚çš„æ»šåŠ¨æ¡
- âœ… **æ‚¬åœæ˜¾ç¤º**ï¼šé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºï¼Œç¦»å¼€æ—¶è‡ªåŠ¨éšè—
- âœ… **å¹³æ»‘æ»šåŠ¨**ï¼šæµç•…çš„æ»šåŠ¨ä½“éªŒ
- âœ… **å¤šåœºæ™¯æ”¯æŒ**ï¼šä¾§è¾¹æ ã€å†…å®¹åŒºã€è¡¨æ ¼ç­‰

---

## æ»šåŠ¨æ¡è®¾è®¡åŸåˆ™

### 1. æ»šåŠ¨æ¡æ˜¾ç¤ºç­–ç•¥

| åœºæ™¯ | æ˜¾ç¤ºç­–ç•¥ | è¯´æ˜ |
|------|---------|------|
| **ä¾§è¾¹æ èœå•** | å§‹ç»ˆæ˜¾ç¤ºï¼ˆç»†çª„ï¼‰ | èœå•é¡¹è¾ƒå¤šæ—¶éœ€è¦æ»šåŠ¨ |
| **å†…å®¹åŒºåŸŸ** | æ‚¬åœæ˜¾ç¤º | å‡å°‘è§†è§‰å¹²æ‰° |
| **è¡¨æ ¼å®¹å™¨** | è‡ªåŠ¨æ˜¾ç¤º | å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤º |
| **å¼¹çª—/æŠ½å±‰** | æ‚¬åœæ˜¾ç¤º | å†…å®¹è¾ƒå¤šæ—¶æ˜¾ç¤º |

### 2. æ»šåŠ¨æ¡æ ·å¼è§„èŒƒ

```css
/* æ»šåŠ¨æ¡å®½åº¦ */
--scrollbar-width: 6px;        /* ç»†çª„æ»šåŠ¨æ¡ */
--scrollbar-width-thick: 8px;  /* è¾ƒç²—æ»šåŠ¨æ¡ï¼ˆå¯é€‰ï¼‰ */

/* æ»šåŠ¨æ¡é¢œè‰² */
--scrollbar-track: transparent;           /* è½¨é“é€æ˜ */
--scrollbar-thumb: rgba(0, 0, 0, 0.2);   /* æ»‘å—é¢œè‰² */
--scrollbar-thumb-hover: rgba(0, 0, 0, 0.3); /* æ‚¬åœé¢œè‰² */

/* æ»šåŠ¨æ¡åœ†è§’ */
--scrollbar-radius: 3px;
```

---

## å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šå…¨å±€æ»šåŠ¨æ¡æ ·å¼ï¼ˆæ¨èï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šå…¨ç«™ç»Ÿä¸€çš„æ»šåŠ¨æ¡æ ·å¼

**å®ç°æ–¹å¼**ï¼š
- åœ¨å…¨å±€æ ·å¼æ–‡ä»¶ä¸­å®šä¹‰æ»šåŠ¨æ¡æ ·å¼
- ä½¿ç”¨ CSS å˜é‡ç»Ÿä¸€ç®¡ç†
- é€šè¿‡ç±»åæ§åˆ¶ä¸åŒåœºæ™¯çš„æ»šåŠ¨æ¡è¡Œä¸º

### æ–¹æ¡ˆäºŒï¼šç»„ä»¶çº§æ»šåŠ¨å®¹å™¨

**é€‚ç”¨åœºæ™¯**ï¼šç‰¹å®šç»„ä»¶éœ€è¦ç‹¬ç«‹çš„æ»šåŠ¨è¡Œä¸º

**å®ç°æ–¹å¼**ï¼š
- åˆ›å»º ScrollContainer ç»„ä»¶
- å°è£…æ»šåŠ¨é€»è¾‘å’Œæ ·å¼
- æ”¯æŒé…ç½®åŒ–ä½¿ç”¨

### æ–¹æ¡ˆä¸‰ï¼šæ··åˆæ–¹æ¡ˆï¼ˆæœ€ä¼˜ï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šæ—¢æœ‰å…¨å±€ç»Ÿä¸€ï¼Œåˆæœ‰ç‰¹æ®Šéœ€æ±‚

**å®ç°æ–¹å¼**ï¼š
- å…¨å±€åŸºç¡€æ ·å¼ + ç»„ä»¶çº§æ‰©å±•
- é€šè¿‡ CSS ç±»åå’Œç»„ä»¶å±æ€§çµæ´»æ§åˆ¶

---

## ä»£ç å®ç°

### 1. å…¨å±€æ»šåŠ¨æ¡æ ·å¼

åˆ›å»º `src/styles/scrollbar.css`ï¼š

```css
/**
 * å…¨å±€æ»šåŠ¨æ¡æ ·å¼
 * åŸºäº Vue Vben Admin å’Œ FuAdmin æœ€ä½³å®è·µ
 */

:root {
  /* æ»šåŠ¨æ¡å°ºå¯¸å˜é‡ */
  --scrollbar-width: 6px;
  --scrollbar-width-thick: 8px;
  --scrollbar-radius: 3px;
  
  /* æ»šåŠ¨æ¡é¢œè‰²å˜é‡ */
  --scrollbar-track-light: transparent;
  --scrollbar-thumb-light: rgba(0, 0, 0, 0.2);
  --scrollbar-thumb-light-hover: rgba(0, 0, 0, 0.3);
  
  --scrollbar-track-dark: rgba(255, 255, 255, 0.05);
  --scrollbar-thumb-dark: rgba(255, 255, 255, 0.2);
  --scrollbar-thumb-dark-hover: rgba(255, 255, 255, 0.3);
}

/* ==================== åŸºç¡€æ»šåŠ¨æ¡æ ·å¼ ==================== */

/**
 * é€šç”¨æ»šåŠ¨æ¡æ ·å¼
 * é€‚ç”¨äºæ‰€æœ‰å¯æ»šåŠ¨å…ƒç´ 
 */
* {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: var(--scrollbar-thumb-light) var(--scrollbar-track-light);
}

/* Webkit æµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼ */
*::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
}

*::-webkit-scrollbar-track {
  background: var(--scrollbar-track-light);
  border-radius: var(--scrollbar-radius);
}

*::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-light);
  border-radius: var(--scrollbar-radius);
  transition: background 0.3s ease;
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-light-hover);
}

/* ==================== ä¾§è¾¹æ æ»šåŠ¨æ¡ ==================== */

/**
 * ä¾§è¾¹æ èœå•æ»šåŠ¨æ¡
 * ç‰¹ç‚¹ï¼šå§‹ç»ˆæ˜¾ç¤ºï¼Œç»†çª„ï¼ŒåŠé€æ˜
 */
.sidebar-scroll,
.menu-container {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

.sidebar-scroll::-webkit-scrollbar,
.menu-container::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.sidebar-scroll::-webkit-scrollbar-track,
.menu-container::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

.sidebar-scroll::-webkit-scrollbar-thumb,
.menu-container::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
  transition: background 0.3s ease;
}

.sidebar-scroll::-webkit-scrollbar-thumb:hover,
.menu-container::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* ==================== å†…å®¹åŒºåŸŸæ»šåŠ¨æ¡ ==================== */

/**
 * å†…å®¹åŒºåŸŸæ»šåŠ¨æ¡
 * ç‰¹ç‚¹ï¼šæ‚¬åœæ˜¾ç¤ºï¼Œè‡ªåŠ¨éšè—
 */
.content-scroll {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  transition: scrollbar-color 0.3s ease;
}

.content-scroll:hover {
  scrollbar-color: var(--scrollbar-thumb-light) var(--scrollbar-track-light);
}

.content-scroll::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
}

.content-scroll::-webkit-scrollbar-track {
  background: transparent;
  border-radius: var(--scrollbar-radius);
  transition: background 0.3s ease;
}

.content-scroll::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: var(--scrollbar-radius);
  transition: background 0.3s ease;
}

.content-scroll:hover::-webkit-scrollbar-track {
  background: var(--scrollbar-track-light);
}

.content-scroll:hover::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-light);
}

.content-scroll:hover::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-light-hover);
}

/* ==================== è¡¨æ ¼æ»šåŠ¨æ¡ ==================== */

/**
 * è¡¨æ ¼å®¹å™¨æ»šåŠ¨æ¡
 * ç‰¹ç‚¹ï¼šè‡ªåŠ¨æ˜¾ç¤ºï¼Œæ ·å¼ç»Ÿä¸€
 */
.table-scroll,
.vxe-table--body-wrapper {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb-light) var(--scrollbar-track-light);
}

.table-scroll::-webkit-scrollbar,
.vxe-table--body-wrapper::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.table-scroll::-webkit-scrollbar-track,
.vxe-table--body-wrapper::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 4px;
}

.table-scroll::-webkit-scrollbar-thumb,
.vxe-table--body-wrapper::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  transition: background 0.3s ease;
}

.table-scroll::-webkit-scrollbar-thumb:hover,
.vxe-table--body-wrapper::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* ==================== å¼¹çª—/æŠ½å±‰æ»šåŠ¨æ¡ ==================== */

/**
 * å¼¹çª—å’ŒæŠ½å±‰å†…å®¹æ»šåŠ¨æ¡
 * ç‰¹ç‚¹ï¼šæ‚¬åœæ˜¾ç¤ºï¼Œç»†çª„
 */
.modal-scroll,
.drawer-scroll,
.ant-modal-body,
.ant-drawer-body {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  transition: scrollbar-color 0.3s ease;
}

.modal-scroll:hover,
.drawer-scroll:hover,
.ant-modal-body:hover,
.ant-drawer-body:hover {
  scrollbar-color: var(--scrollbar-thumb-light) var(--scrollbar-track-light);
}

.modal-scroll::-webkit-scrollbar,
.drawer-scroll::-webkit-scrollbar,
.ant-modal-body::-webkit-scrollbar,
.ant-drawer-body::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
}

.modal-scroll::-webkit-scrollbar-track,
.drawer-scroll::-webkit-scrollbar-track,
.ant-modal-body::-webkit-scrollbar-track,
.ant-drawer-body::-webkit-scrollbar-track {
  background: transparent;
  border-radius: var(--scrollbar-radius);
  transition: background 0.3s ease;
}

.modal-scroll::-webkit-scrollbar-thumb,
.drawer-scroll::-webkit-scrollbar-thumb,
.ant-modal-body::-webkit-scrollbar-thumb,
.ant-drawer-body::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: var(--scrollbar-radius);
  transition: background 0.3s ease;
}

.modal-scroll:hover::-webkit-scrollbar-thumb,
.drawer-scroll:hover::-webkit-scrollbar-thumb,
.ant-modal-body:hover::-webkit-scrollbar-thumb,
.ant-drawer-body:hover::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-light);
}

/* ==================== æš—è‰²ä¸»é¢˜æ»šåŠ¨æ¡ ==================== */

/**
 * æš—è‰²ä¸»é¢˜æ»šåŠ¨æ¡æ ·å¼
 */
[data-theme='dark'] *::-webkit-scrollbar-thumb,
.dark *::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-dark);
}

[data-theme='dark'] *::-webkit-scrollbar-thumb:hover,
.dark *::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-dark-hover);
}

[data-theme='dark'] .sidebar-scroll::-webkit-scrollbar-thumb,
.dark .sidebar-scroll::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

[data-theme='dark'] .sidebar-scroll::-webkit-scrollbar-thumb:hover,
.dark .sidebar-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* ==================== å“åº”å¼æ»šåŠ¨æ¡ ==================== */

/**
 * ç§»åŠ¨ç«¯éšè—æ»šåŠ¨æ¡ï¼ˆä¿ç•™æ»šåŠ¨åŠŸèƒ½ï¼‰
 */
@media (max-width: 768px) {
  *::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
  
  * {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  /* ä¿ç•™æ»šåŠ¨åŠŸèƒ½ */
  * {
    -webkit-overflow-scrolling: touch;
  }
}

/* ==================== å¹³æ»‘æ»šåŠ¨ ==================== */

/**
 * å¯ç”¨å¹³æ»‘æ»šåŠ¨
 */
html {
  scroll-behavior: smooth;
}

/* ç‰¹å®šå…ƒç´ å¹³æ»‘æ»šåŠ¨ */
.smooth-scroll {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}
```

### 2. ScrollContainer ç»„ä»¶

åˆ›å»º `src/components/ScrollContainer/ScrollContainer.vue`ï¼š

```vue
<template>
  <div
    ref="scrollContainerRef"
    :class="[
      'scroll-container',
      `scroll-container--${mode}`,
      {
        'scroll-container--auto-hide': autoHide,
        'scroll-container--smooth': smooth
      }
    ]"
    :style="containerStyle"
    @scroll="handleScroll"
  >
    <slot />
  </div>
</template>

<script setup lang="ts">
/**
 * @fileoverview æ»šåŠ¨å®¹å™¨ç»„ä»¶
 * æä¾›ç»Ÿä¸€çš„æ»šåŠ¨æ¡æ ·å¼å’Œæ»šåŠ¨è¡Œä¸º
 */
import { ref, computed, onMounted, onUnmounted } from 'vue'

interface Props {
  /** æ»šåŠ¨æ¨¡å¼ */
  mode?: 'default' | 'sidebar' | 'content' | 'table' | 'modal'
  /** æ˜¯å¦è‡ªåŠ¨éšè—æ»šåŠ¨æ¡ï¼ˆæ‚¬åœæ˜¾ç¤ºï¼‰ */
  autoHide?: boolean
  /** æ˜¯å¦å¯ç”¨å¹³æ»‘æ»šåŠ¨ */
  smooth?: boolean
  /** å®¹å™¨é«˜åº¦ */
  height?: string | number
  /** å®¹å™¨æœ€å¤§é«˜åº¦ */
  maxHeight?: string | number
  /** æ˜¯å¦å¯ç”¨æ¨ªå‘æ»šåŠ¨ */
  horizontal?: boolean
  /** æ»šåŠ¨æ¡å®½åº¦ */
  scrollbarWidth?: number
}

const props = withDefaults(defineProps<Props>(), {
  mode: 'default',
  autoHide: false,
  smooth: true,
  horizontal: false,
  scrollbarWidth: 6
})

const emit = defineEmits<{
  scroll: [event: Event]
  scrollTop: [top: number]
  scrollLeft: [left: number]
}>()

const scrollContainerRef = ref<HTMLElement>()

/**
 * å®¹å™¨æ ·å¼
 */
const containerStyle = computed(() => {
  const style: Record<string, string> = {
    overflowY: 'auto',
    overflowX: props.horizontal ? 'auto' : 'hidden'
  }

  if (props.height) {
    style.height = typeof props.height === 'number' ? `${props.height}px` : props.height
  }

  if (props.maxHeight) {
    style.maxHeight = typeof props.maxHeight === 'number' ? `${props.maxHeight}px` : props.maxHeight
  }

  if (props.smooth) {
    style.scrollBehavior = 'smooth'
  }

  return style
})

/**
 * æ»šåŠ¨äº‹ä»¶å¤„ç†
 */
const handleScroll = (event: Event) => {
  emit('scroll', event)
  
  if (scrollContainerRef.value) {
    emit('scrollTop', scrollContainerRef.value.scrollTop)
    emit('scrollLeft', scrollContainerRef.value.scrollLeft)
  }
}

/**
 * æ»šåŠ¨åˆ°é¡¶éƒ¨
 */
const scrollToTop = (behavior: ScrollBehavior = 'smooth') => {
  scrollContainerRef.value?.scrollTo({
    top: 0,
    behavior
  })
}

/**
 * æ»šåŠ¨åˆ°åº•éƒ¨
 */
const scrollToBottom = (behavior: ScrollBehavior = 'smooth') => {
  if (scrollContainerRef.value) {
    scrollContainerRef.value.scrollTo({
      top: scrollContainerRef.value.scrollHeight,
      behavior
    })
  }
}

/**
 * æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®
 */
const scrollTo = (options: ScrollToOptions) => {
  scrollContainerRef.value?.scrollTo(options)
}

/**
 * è·å–æ»šåŠ¨ä½ç½®
 */
const getScrollTop = () => {
  return scrollContainerRef.value?.scrollTop || 0
}

/**
 * è·å–æ»šåŠ¨é«˜åº¦
 */
const getScrollHeight = () => {
  return scrollContainerRef.value?.scrollHeight || 0
}

/**
 * æš´éœ²æ–¹æ³•
 */
defineExpose({
  scrollToTop,
  scrollToBottom,
  scrollTo,
  getScrollTop,
  getScrollHeight,
  scrollContainer: scrollContainerRef
})
</script>

<style scoped>
.scroll-container {
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
}

/* é»˜è®¤æ¨¡å¼ */
.scroll-container--default {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

.scroll-container--default::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scroll-container--default::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

.scroll-container--default::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  transition: background 0.3s ease;
}

.scroll-container--default::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* ä¾§è¾¹æ æ¨¡å¼ */
.scroll-container--sidebar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

.scroll-container--sidebar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scroll-container--sidebar::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

.scroll-container--sidebar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
  transition: background 0.3s ease;
}

.scroll-container--sidebar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* å†…å®¹åŒºåŸŸæ¨¡å¼ */
.scroll-container--content {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  transition: scrollbar-color 0.3s ease;
}

.scroll-container--content:hover {
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

.scroll-container--content::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scroll-container--content::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
  transition: background 0.3s ease;
}

.scroll-container--content::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 3px;
  transition: background 0.3s ease;
}

.scroll-container--content:hover::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

.scroll-container--content:hover::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
}

.scroll-container--content:hover::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* è¡¨æ ¼æ¨¡å¼ */
.scroll-container--table {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) #f5f5f5;
}

.scroll-container--table::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.scroll-container--table::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 4px;
}

.scroll-container--table::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  transition: background 0.3s ease;
}

.scroll-container--table::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* å¼¹çª—æ¨¡å¼ */
.scroll-container--modal {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  transition: scrollbar-color 0.3s ease;
}

.scroll-container--modal:hover {
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

.scroll-container--modal::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scroll-container--modal::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
  transition: background 0.3s ease;
}

.scroll-container--modal::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 3px;
  transition: background 0.3s ease;
}

.scroll-container--modal:hover::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
}

.scroll-container--modal:hover::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* å¹³æ»‘æ»šåŠ¨ */
.scroll-container--smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}
</style>
```

åˆ›å»º `src/components/ScrollContainer/index.ts`ï¼š

```typescript
/**
 * @fileoverview æ»šåŠ¨å®¹å™¨ç»„ä»¶å¯¼å‡º
 */
export { default as ScrollContainer } from './ScrollContainer.vue'
export type { default as ScrollContainerProps } from './ScrollContainer.vue'
```

### 3. åœ¨ main.ts ä¸­å¼•å…¥å…¨å±€æ ·å¼

```typescript
// main.ts
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'
import { createPinia } from 'pinia'
import Antd from 'ant-design-vue'
import 'ant-design-vue/dist/reset.css'

// å¼•å…¥å…¨å±€æ»šåŠ¨æ¡æ ·å¼
import './styles/scrollbar.css'

const app = createApp(App)
const pinia = createPinia()

app.use(pinia)
app.use(router)
app.use(Antd)

app.mount('#app')
```

### 4. åœ¨ App.vue ä¸­åº”ç”¨æ»šåŠ¨å®¹å™¨

```vue
<template>
  <div v-if="!isLoginPage">
    <a-layout style="min-height: 100vh">
      <a-layout-sider ...>
        <div class="sider-content">
          <!-- Logo åŒºåŸŸ -->
          <div class="logo">...</div>

          <!-- èœå•åŒºåŸŸ - ä½¿ç”¨æ»šåŠ¨å®¹å™¨ -->
          <ScrollContainer mode="sidebar" class="menu-container">
            <a-menu ... />
          </ScrollContainer>

          <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
          <div class="user-info">...</div>
        </div>
      </a-layout-sider>
      
      <a-layout>
        <a-layout-header>...</a-layout-header>
        
        <!-- å†…å®¹åŒºåŸŸ - ä½¿ç”¨æ»šåŠ¨å®¹å™¨ -->
        <a-layout-content class="layout-content">
          <ScrollContainer mode="content" class="content-wrapper">
            <router-view />
          </ScrollContainer>
        </a-layout-content>
        
        <a-layout-footer>...</a-layout-footer>
      </a-layout>
    </a-layout>
  </div>
</template>

<script setup lang="ts">
import { ScrollContainer } from '@/components/ScrollContainer'
// ... å…¶ä»–å¯¼å…¥
</script>
```

### 5. åœ¨é¡µé¢ç»„ä»¶ä¸­ä½¿ç”¨

```vue
<template>
  <div class="page-container">
    <!-- ä½¿ç”¨æ»šåŠ¨å®¹å™¨åŒ…è£¹å†…å®¹ -->
    <ScrollContainer mode="content" :max-height="'calc(100vh - 200px)'">
      <div class="page-content">
        <!-- é¡µé¢å†…å®¹ -->
      </div>
    </ScrollContainer>
  </div>
</template>

<script setup lang="ts">
import { ScrollContainer } from '@/components/ScrollContainer'
</script>
```

---

## æœ€ä½³å®è·µ

### 1. æ»šåŠ¨å®¹å™¨é€‰æ‹©æŒ‡å—

| ä½¿ç”¨åœºæ™¯ | æ¨èæ¨¡å¼ | è¯´æ˜ |
|---------|---------|------|
| ä¾§è¾¹æ èœå• | `mode="sidebar"` | æ·±è‰²èƒŒæ™¯ï¼Œç™½è‰²æ»šåŠ¨æ¡ |
| é¡µé¢å†…å®¹åŒº | `mode="content"` | æ‚¬åœæ˜¾ç¤ºï¼Œå‡å°‘å¹²æ‰° |
| è¡¨æ ¼å®¹å™¨ | `mode="table"` | è‡ªåŠ¨æ˜¾ç¤ºï¼Œæ ·å¼ç»Ÿä¸€ |
| å¼¹çª—/æŠ½å±‰ | `mode="modal"` | æ‚¬åœæ˜¾ç¤ºï¼Œç»†çª„æ ·å¼ |
| é€šç”¨åœºæ™¯ | `mode="default"` | é»˜è®¤æ ·å¼ |

### 2. æ€§èƒ½ä¼˜åŒ–å»ºè®®

```typescript
/**
 * 1. ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡æ•°æ®
 */
import { useVirtualList } from '@vueuse/core'

const { list, containerProps, wrapperProps } = useVirtualList(
  items,
  {
    itemHeight: 50,
    overscan: 5
  }
)

/**
 * 2. é˜²æŠ–æ»šåŠ¨äº‹ä»¶
 */
import { useDebounceFn } from '@vueuse/core'

const handleScroll = useDebounceFn((event: Event) => {
  // æ»šåŠ¨å¤„ç†é€»è¾‘
}, 100)

/**
 * 3. ä½¿ç”¨ will-change ä¼˜åŒ–æ»šåŠ¨æ€§èƒ½
 */
.scroll-container {
  will-change: scroll-position;
}
```

### 3. å“åº”å¼æ»šåŠ¨æ¡

```css
/* æ¡Œé¢ç«¯ï¼šæ˜¾ç¤ºè‡ªå®šä¹‰æ»šåŠ¨æ¡ */
@media (min-width: 769px) {
  .scroll-container {
    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
  }
}

/* ç§»åŠ¨ç«¯ï¼šéšè—æ»šåŠ¨æ¡ï¼Œä¿ç•™æ»šåŠ¨åŠŸèƒ½ */
@media (max-width: 768px) {
  .scroll-container {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  .scroll-container::-webkit-scrollbar {
    display: none;
  }
}
```

---

## å‚è€ƒå¯¹æ¯”

### Vue Vben Admin æ»šåŠ¨æ¡å®ç°

**ç‰¹ç‚¹**ï¼š
- ä½¿ç”¨ `ScrollContainer` ç»„ä»¶å°è£…
- æ”¯æŒå¤šç§æ»šåŠ¨æ¨¡å¼
- è‡ªåŠ¨è®¡ç®—é«˜åº¦
- æ”¯æŒè™šæ‹Ÿæ»šåŠ¨

**å®ç°æ–¹å¼**ï¼š
```typescript
// Vue Vben Admin çš„ ScrollContainer
<ScrollContainer>
  {() => renderMenu()}
</ScrollContainer>
```

### FuAdmin æ»šåŠ¨æ¡å®ç°

**ç‰¹ç‚¹**ï¼š
- å…¨å±€æ»šåŠ¨æ¡æ ·å¼
- ç»†çª„æ»šåŠ¨æ¡ï¼ˆ6pxï¼‰
- æ‚¬åœæ˜¾ç¤º/éšè—
- æ”¯æŒæš—è‰²ä¸»é¢˜

**å®ç°æ–¹å¼**ï¼š
```css
/* FuAdmin å…¨å±€æ»šåŠ¨æ¡ */
*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
```

### æœ¬é¡¹ç›®å®ç°æ–¹æ¡ˆ

**ç»“åˆä¸¤è€…ä¼˜åŠ¿**ï¼š
- âœ… å…¨å±€æ ·å¼ + ç»„ä»¶å°è£…
- âœ… å¤šç§æ»šåŠ¨æ¨¡å¼
- âœ… æ‚¬åœæ˜¾ç¤º/éšè—
- âœ… å“åº”å¼é€‚é…
- âœ… æ€§èƒ½ä¼˜åŒ–

---

## å®æ–½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå…¨å±€æ ·å¼æ–‡ä»¶

1. åˆ›å»º `src/styles/scrollbar.css`
2. åœ¨ `main.ts` ä¸­å¼•å…¥

### ç¬¬äºŒæ­¥ï¼šåˆ›å»º ScrollContainer ç»„ä»¶

1. åˆ›å»º `src/components/ScrollContainer/ScrollContainer.vue`
2. åˆ›å»º `src/components/ScrollContainer/index.ts`

### ç¬¬ä¸‰æ­¥ï¼šåº”ç”¨åˆ°ç°æœ‰ç»„ä»¶

1. æ›´æ–° `App.vue` ä¸­çš„èœå•å®¹å™¨
2. æ›´æ–° `App.vue` ä¸­çš„å†…å®¹åŒºåŸŸ
3. æ›´æ–°é¡µé¢ç»„ä»¶ä½¿ç”¨æ»šåŠ¨å®¹å™¨

### ç¬¬å››æ­¥ï¼šæµ‹è¯•å’Œä¼˜åŒ–

1. æµ‹è¯•ä¸åŒåœºæ™¯ä¸‹çš„æ»šåŠ¨è¡Œä¸º
2. ä¼˜åŒ–æ»šåŠ¨æ€§èƒ½
3. è°ƒæ•´æ»šåŠ¨æ¡æ ·å¼

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šä¾§è¾¹æ èœå•æ»šåŠ¨

```vue
<template>
  <ScrollContainer mode="sidebar" class="menu-container">
    <a-menu ... />
  </ScrollContainer>
</template>
```

### ç¤ºä¾‹ 2ï¼šé¡µé¢å†…å®¹æ»šåŠ¨

```vue
<template>
  <ScrollContainer 
    mode="content" 
    :max-height="'calc(100vh - 200px)'"
    :auto-hide="true"
  >
    <div class="page-content">
      <!-- å†…å®¹ -->
    </div>
  </ScrollContainer>
</template>
```

### ç¤ºä¾‹ 3ï¼šè¡¨æ ¼æ»šåŠ¨

```vue
<template>
  <ScrollContainer mode="table" class="table-wrapper">
    <vxe-table ... />
  </ScrollContainer>
</template>
```

### ç¤ºä¾‹ 4ï¼šå¼¹çª—å†…å®¹æ»šåŠ¨

```vue
<template>
  <a-modal>
    <ScrollContainer mode="modal" :max-height="'60vh'">
      <a-form ... />
    </ScrollContainer>
  </a-modal>
</template>
```

---

## æ³¨æ„äº‹é¡¹

1. **æµè§ˆå™¨å…¼å®¹æ€§**ï¼š
   - `::-webkit-scrollbar` ä»…æ”¯æŒ Webkit å†…æ ¸æµè§ˆå™¨
   - Firefox ä½¿ç”¨ `scrollbar-width` å’Œ `scrollbar-color`
   - éœ€è¦åŒæ—¶æä¾›ä¸¤ç§å®ç°

2. **æ€§èƒ½è€ƒè™‘**ï¼š
   - é¿å…åœ¨æ»šåŠ¨äº‹ä»¶ä¸­æ‰§è¡Œé‡æ“ä½œ
   - ä½¿ç”¨é˜²æŠ–/èŠ‚æµä¼˜åŒ–æ»šåŠ¨äº‹ä»¶
   - å¤§é‡æ•°æ®ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨

3. **å¯è®¿é—®æ€§**ï¼š
   - ç¡®ä¿é”®ç›˜å¯¼èˆªæ­£å¸¸å·¥ä½œ
   - ä¿æŒæ»šåŠ¨æ¡å¯è§æ€§ï¼ˆè‡³å°‘æ‚¬åœæ—¶å¯è§ï¼‰
   - æ”¯æŒå±å¹•é˜…è¯»å™¨

---

**æœ€åæ›´æ–°**: 2025-01-XX  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ

