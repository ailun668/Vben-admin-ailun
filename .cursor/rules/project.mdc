---
alwaysApply: true
---


## MPurse æŠ€æœ¯æ–‡æ¡£åœ°å€

-å¦‚æœä½ ä¸ç¡®å®šæ–‡ä»¶å†…å®¹æˆ–è€…ä»£ç ç»“æ„ï¼Œ è¯·ä½¿ç”¨å·¥å…·è¯»å–æ–‡ä»¶å’Œç›¸å…³ä¿¡æ¯ï¼Œ
-æ¯æ¬¡ä¿®æ”¹éœ€è¦ä¸“æ³¨é—®é¢˜æœ¬èº«ï¼Œåªå…è®¸æ”¹åŠ¨ä¼˜åŒ–ä¿®å¤æˆ‘éœ€è¦çš„éœ€æ±‚ã€‚

- https://github.com/vbenjs/vue-vben-admin
- https://antdv.com/docs/vue/introduce
- https://v3.cn.vuejs.org/
- https://pinia.vuejs.org/
- https://tailwindcss.com/

# MPurse é¡¹ç›®å¼€å‘æŠ€æœ¯æ–‡æ¡£

> **é¢å‘AIå¼€å‘è€…çš„å®Œæ•´æŠ€æœ¯è§„èŒƒæ–‡æ¡£**
> ç¡®ä¿é¡¹ç›®100%æ­£ç¡®äº¤ä»˜ï¼Œæ— ç¼ºé™·è¿è¡Œ

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£ä¸º MPurse æ”¯ä»˜ç®¡ç†å¹³å°çš„å®Œæ•´æŠ€æœ¯å¼€å‘æ–‡æ¡£ï¼Œä¸“é—¨ä¸ºAIå¼€å‘è€…è®¾è®¡ï¼ŒåŒ…å«é¡¹ç›®æŠ€æœ¯æ ˆã€å¼€å‘è§„èŒƒã€æ¶æ„è®¾è®¡ã€è°ƒè¯•æŒ‡å—ç­‰ï¼Œç¡®ä¿æ–°æ¥æ‰‹çš„å¼€å‘è€…èƒ½å¤Ÿï¼š

- âœ… **å¿«é€Ÿç†è§£é¡¹ç›®æ¶æ„**
- âœ… **æŒæ¡æ ¸å¿ƒæŠ€æœ¯æ ˆ**
- âœ… **éµå¾ªå¼€å‘è§„èŒƒ**
- âœ… **ä¿è¯ä»£ç è´¨é‡**
- âœ… **é¿å…å¸¸è§é”™è¯¯**

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„æ¦‚è§ˆ

### é¡¹ç›®ç±»å‹
- **æ¶æ„æ¨¡å¼**: Monorepo å•ä½“ä»“åº“
- **æ„å»ºå·¥å…·**: Turbo + pnpm workspaces
- **åŒ…ç®¡ç†å™¨**: pnpm@10.14.0ï¼ˆ**å¼ºåˆ¶è¦æ±‚**ï¼‰

### æ ¸å¿ƒåº”ç”¨
```
apps/
â”œâ”€â”€ mpurse-central/     # ä¸­å¤®ç®¡ç†åå° (ç«¯å£: 5566)
â””â”€â”€ mpurse-merchant/    # å•†æˆ·ç«¯åº”ç”¨ (ç«¯å£: 5588)
```

### å…±äº«æ¨¡å—
```
shared/
â”œâ”€â”€ components/         # å…±äº«Vueç»„ä»¶
â”œâ”€â”€ utils/             # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ constants/         # å…±äº«å¸¸é‡é…ç½®
â”œâ”€â”€ request/           # HTTPå®¢æˆ·ç«¯å°è£…
â””â”€â”€ store/            # å…±äº«çŠ¶æ€ç®¡ç†

internal/
â”œâ”€â”€ vite-config/       # Viteé…ç½®
â”œâ”€â”€ eslint-config/     # ESLinté…ç½®
â”œâ”€â”€ tailwind-config/   # Tailwindé…ç½®
â””â”€â”€ tsconfig/         # TypeScripté…ç½®
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦è§£

### ğŸ¯ æ ¸å¿ƒæ¡†æ¶
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é‡è¦æ€§ |
|------|------|------|---------|
| **Vue 3** | 3.5.13 | å‰ç«¯æ¡†æ¶ | â­â­â­â­â­ |
| **TypeScript** | 5.6.3 | ç±»å‹ç³»ç»Ÿ | â­â­â­â­â­ |
| **Vite** | 6.0.0 | æ„å»ºå·¥å…· | â­â­â­â­â­ |
| **pnpm** | 10.14.0 | åŒ…ç®¡ç†å™¨ | â­â­â­â­â­ |

### ğŸ¨ UI ç»„ä»¶åº“
| ç»„ä»¶åº“ | ç”¨é€” | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| **Ant Design Vue** | ä¸»è¦UIç»„ä»¶åº“ | è¡¨å•ã€è¡¨æ ¼ã€å¯¼èˆªç­‰ |
| **PrimeVue** | ä¼ä¸šçº§ç»„ä»¶ | å¤æ‚ä¸šåŠ¡ç»„ä»¶ |
| **Tailwind CSS** | æ ·å¼æ¡†æ¶ | å¿«é€Ÿæ ·å¼å¼€å‘ |
| **UnoCSS** | åŸå­åŒ–CSS | æ€§èƒ½ä¼˜åŒ– |

### ğŸ“Š æ•°æ®å¤„ç†
| å·¥å…· | ç”¨é€” |
|------|------|
| **Pinia** | çŠ¶æ€ç®¡ç† |
| **VXE Table** | é«˜æ€§èƒ½è¡¨æ ¼ |
| **ECharts** | æ•°æ®å¯è§†åŒ– |
| **VeeValidate + Zod** | è¡¨å•éªŒè¯ |

### ğŸ”§ å¼€å‘å·¥å…·
| å·¥å…· | é…ç½®æ–‡ä»¶ | ç”¨é€” |
|------|-----------|------|
| **ESLint** | `eslint.config.mjs` | ä»£ç æ£€æŸ¥ |
| **Prettier** | `@vben/prettier-config` | ä»£ç æ ¼å¼åŒ– |
| **Vitest** | - | å•å…ƒæµ‹è¯• |
| **Playwright** | - | E2Eæµ‹è¯• |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### ç¯å¢ƒè¦æ±‚
```bash
Node.js >= 20.10.0
pnpm >= 9.12.0 (å¿…é¡»ä½¿ç”¨pnpmï¼Œä¸æ”¯æŒnpm/yarn)
```

### å®‰è£…ä¾èµ–
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install

# é‡æ–°å®‰è£…ä¾èµ–ï¼ˆæ¸…ç†æ¨¡å¼ï¼‰
pnpm reinstall
```

### å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨ä¸­å¤®ç®¡ç†åå°
pnpm dev:mpurse-central

# å¯åŠ¨å•†æˆ·ç«¯åº”ç”¨
pnpm dev:mpurse-merchant

# åŒæ—¶å¯åŠ¨æ‰€æœ‰åº”ç”¨
pnpm dev
```

### æ„å»ºé¡¹ç›®
```bash
# å¼€å‘ç¯å¢ƒæ„å»º
pnpm build

# UATç¯å¢ƒæ„å»º
pnpm build:uat

# ç”Ÿäº§ç¯å¢ƒæ„å»º
pnpm build:prod
```

---

## ğŸ“ ç›®å½•ç»“æ„è¯¦è§£

### ä¸­å¤®ç®¡ç†åå° (mpurse-central)
```
src/
â”œâ”€â”€ views/                    # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ home/                # é¦–é¡µç›¸å…³
â”‚   â”œâ”€â”€ merchant/            # å•†æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ reports/             # æŠ¥è¡¨ä¸­å¿ƒ
â”‚   â”œâ”€â”€ settings/            # ç³»ç»Ÿè®¾ç½®
â”‚   â””â”€â”€ _core/              # æ ¸å¿ƒé¡µé¢ï¼ˆç™»å½•ã€é”™è¯¯ç­‰ï¼‰
â”œâ”€â”€ components/              # åº”ç”¨çº§ç»„ä»¶
â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”œâ”€â”€ store/                  # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”œâ”€â”€ constants/              # å¸¸é‡å®šä¹‰
â””â”€â”€ request/               # APIè¯·æ±‚
```

### å•†æˆ·ç«¯åº”ç”¨ (mpurse-merchant)
```
src/
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ common/             # é€šç”¨åŠŸèƒ½
â”‚   â”œâ”€â”€ products/           # äº§å“ç®¡ç†
â”‚   â”œâ”€â”€ reports/            # æŠ¥è¡¨æŸ¥è¯¢
â”‚   â””â”€â”€ transaction/        # äº¤æ˜“ç®¡ç†
â”œâ”€â”€ request/                # åŒ…å«åŠ å¯†è§£å¯†åŠŸèƒ½
â””â”€â”€ ...ï¼ˆå…¶ä»–ç»“æ„åŒcentralï¼‰
```

---

## ğŸ”’ å¼€å‘è§„èŒƒï¼ˆå¿…é¡»éµå¾ªï¼‰

### Vue ç»„ä»¶å¼€å‘è§„èŒƒ
```vue
<template>
  <!-- ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ -->
  <div class="page-container">
    <h1>é¡µé¢æ ‡é¢˜</h1>
  </div>
</template>

<script setup lang="ts">
/**
 * @fileoverview ç»„ä»¶åŠŸèƒ½æè¿°
 * @author AIå¼€å‘è€…
 * @date 2024-08-24
 */

// å¿…é¡»ä½¿ç”¨ <script setup> è¯­æ³•
import { ref, onMounted } from 'vue'
import type { ComponentProps } from './types'

/**
 * ç»„ä»¶å±æ€§å®šä¹‰
 */
interface Props {
  /** é¡µé¢æ ‡é¢˜ */
  title: string
  /** æ˜¯å¦æ˜¾ç¤º */
  visible?: boolean
}

/**
 * å®šä¹‰ç»„ä»¶å±æ€§
 */
const props = withDefaults(defineProps<Props>(), {
  visible: true
})

/**
 * å“åº”å¼æ•°æ®
 */
const loading = ref(false)

/**
 * åˆå§‹åŒ–æ•°æ®åŠ è½½
 */
const initData = async () => {
  loading.value = true
  try {
    // ä¸šåŠ¡é€»è¾‘
  } catch (error) {
    console.error('æ•°æ®åŠ è½½å¤±è´¥:', error)
  } finally {
    loading.value = false
  }
}

/**
 * ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œ
 */
onMounted(() => {
  initData()
})
</script>

<style scoped>
/* ä¼˜å…ˆä½¿ç”¨ Tailwind CSS ç±» */
.page-container {
  @apply p-4 bg-white rounded-lg;
}
</style>
```

### TypeScript è§„èŒƒ
```typescript
/**
 * @fileoverview APIæ¥å£ç±»å‹å®šä¹‰
 */

/**
 * ç”¨æˆ·ä¿¡æ¯æ¥å£
 */
export interface UserInfo {
  /** ç”¨æˆ·ID */
  id: number
  /** ç”¨æˆ·å */
  username: string
  /** é‚®ç®±åœ°å€ */
  email: string
  /** åˆ›å»ºæ—¶é—´ */
  createdAt: string
}

/**
 * APIå“åº”ç»“æ„
 */
export interface ApiResponse<T = any> {
  /** å“åº”ç  */
  code: number
  /** å“åº”æ¶ˆæ¯ */
  message: string
  /** å“åº”æ•°æ® */
  data: T
  /** æ˜¯å¦æˆåŠŸ */
  success: boolean
}

/**
 * åˆ†é¡µæŸ¥è¯¢å‚æ•°
 */
export interface PageParams {
  /** å½“å‰é¡µç  */
  page: number
  /** æ¯é¡µå¤§å° */
  size: number
}
```

### API è¯·æ±‚è§„èŒƒ
```typescript
/**
 * @fileoverview ç”¨æˆ·ç›¸å…³API
 */

import { request } from '@shared/request'
import type { UserInfo, ApiResponse, PageParams } from './types'

/**
 * è·å–ç”¨æˆ·åˆ—è¡¨
 * @param params æŸ¥è¯¢å‚æ•°
 * @returns ç”¨æˆ·åˆ—è¡¨å“åº”
 */
export const getUserList = (params: PageParams) => {
  return request.get<ApiResponse<UserInfo[]>>('/api/users', { params })
}

/**
 * åˆ›å»ºç”¨æˆ·
 * @param data ç”¨æˆ·æ•°æ®
 * @returns åˆ›å»ºç»“æœ
 */
export const createUser = (data: Omit<UserInfo, 'id' | 'createdAt'>) => {
  return request.post<ApiResponse<UserInfo>>('/api/users', data)
}
```

---

## ğŸ¨ æ ·å¼å¼€å‘è§„èŒƒ

### Tailwind CSS ä½¿ç”¨è§„èŒƒ
```vue
<template>
  <!-- æ¨èï¼šä½¿ç”¨ Tailwind åŸå­ç±» -->
  <div class="flex items-center justify-between p-4 bg-white rounded-lg shadow-md">
    <h1 class="text-2xl font-bold text-gray-800">æ ‡é¢˜</h1>
    <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
      æŒ‰é’®
    </button>
  </div>
</template>

<style scoped>
/* å¤æ‚æ ·å¼ä½¿ç”¨ @apply */
.custom-button {
  @apply px-4 py-2 bg-blue-500 text-white rounded;
  @apply hover:bg-blue-600 focus:ring-2 focus:ring-blue-300;
}

/* ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨ CSS å˜é‡ */
.theme-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
}
</style>
```

### å“åº”å¼è®¾è®¡
```vue
<template>
  <div class="container mx-auto px-4">
    <!-- å“åº”å¼ç½‘æ ¼ -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <div class="card">å†…å®¹</div>
    </div>

    <!-- å“åº”å¼æ–‡æœ¬ -->
    <h1 class="text-xl md:text-2xl lg:text-3xl font-bold">
      å“åº”å¼æ ‡é¢˜
    </h1>
  </div>
</template>
```

---

## ğŸ” çŠ¶æ€ç®¡ç†è§„èŒƒ

### Pinia Store è§„èŒƒ
```typescript
/**
 * @fileoverview ç”¨æˆ·çŠ¶æ€ç®¡ç†
 */

import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import type { UserInfo } from '@/types'

/**
 * ç”¨æˆ·çŠ¶æ€ç®¡ç†
 */
export const useUserStore = defineStore('user', () => {
  /**
   * ç”¨æˆ·ä¿¡æ¯
   */
  const userInfo = ref<UserInfo | null>(null)

  /**
   * åŠ è½½çŠ¶æ€
   */
  const loading = ref(false)

  /**
   * è®¡ç®—å±æ€§ï¼šæ˜¯å¦å·²ç™»å½•
   */
  const isLoggedIn = computed(() => !!userInfo.value)

  /**
   * è®¡ç®—å±æ€§ï¼šç”¨æˆ·æƒé™
   */
  const permissions = computed(() => userInfo.value?.permissions || [])

  /**
   * ç™»å½•æ“ä½œ
   * @param credentials ç™»å½•å‡­æ®
   */
  const login = async (credentials: LoginCredentials) => {
    loading.value = true
    try {
      const { data } = await loginApi(credentials)
      userInfo.value = data
      return { success: true }
    } catch (error) {
      console.error('ç™»å½•å¤±è´¥:', error)
      return { success: false, error }
    } finally {
      loading.value = false
    }
  }

  /**
   * ç™»å‡ºæ“ä½œ
   */
  const logout = () => {
    userInfo.value = null
  }

  return {
    // çŠ¶æ€
    userInfo,
    loading,
    // è®¡ç®—å±æ€§
    isLoggedIn,
    permissions,
    // æ“ä½œ
    login,
    logout
  }
}, {
  // æŒä¹…åŒ–é…ç½®
  persist: {
    key: 'user-store',
    paths: ['userInfo']
  }
})
```

---

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### å•å…ƒæµ‹è¯•è§„èŒƒ
```typescript
/**
 * @fileoverview ç”¨æˆ·å·¥å…·å‡½æ•°æµ‹è¯•
 */

import { describe, it, expect } from 'vitest'
import { formatUserName, validateEmail } from '@/utils/user'

describe('ç”¨æˆ·å·¥å…·å‡½æ•°æµ‹è¯•', () => {
  describe('formatUserName', () => {
    it('åº”è¯¥æ­£ç¡®æ ¼å¼åŒ–ç”¨æˆ·å', () => {
      expect(formatUserName('john', 'doe')).toBe('John Doe')
    })

    it('åº”è¯¥å¤„ç†ç©ºå€¼æƒ…å†µ', () => {
      expect(formatUserName('', '')).toBe('')
    })
  })

  describe('validateEmail', () => {
    it('åº”è¯¥éªŒè¯æœ‰æ•ˆé‚®ç®±', () => {
      expect(validateEmail('test@example.com')).toBe(true)
    })

    it('åº”è¯¥æ‹’ç»æ— æ•ˆé‚®ç®±', () => {
      expect(validateEmail('invalid-email')).toBe(false)
    })
  })
})
```

### ç»„ä»¶æµ‹è¯•è§„èŒƒ
```typescript
/**
 * @fileoverview ç”¨æˆ·å¡ç‰‡ç»„ä»¶æµ‹è¯•
 */

import { mount } from '@vue/test-utils'
import { describe, it, expect } from 'vitest'
import UserCard from '@/components/UserCard.vue'

describe('UserCard ç»„ä»¶æµ‹è¯•', () => {
  it('åº”è¯¥æ­£ç¡®æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯', () => {
    const wrapper = mount(UserCard, {
      props: {
        user: {
          id: 1,
          name: 'Test User',
          email: 'test@example.com'
        }
      }
    })

    expect(wrapper.find('[data-testid="user-name"]').text()).toBe('Test User')
    expect(wrapper.find('[data-testid="user-email"]').text()).toBe('test@example.com')
  })

  it('åº”è¯¥å“åº”ç‚¹å‡»äº‹ä»¶', async () => {
    const wrapper = mount(UserCard, {
      props: {
        user: { id: 1, name: 'Test', email: 'test@example.com' }
      }
    })

    await wrapper.find('[data-testid="user-card"]').trigger('click')
    expect(wrapper.emitted('click')).toBeTruthy()
  })
})
```

---

## ğŸ› è°ƒè¯•æŒ‡å—

### å¼€å‘å·¥å…·é…ç½®
```json
// .vscode/settings.json
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "typescript.preferences.importModuleSpecifier": "relative"
}
```

### å¸¸è§é”™è¯¯æ’æŸ¥

#### 1. ä¾èµ–å®‰è£…é—®é¢˜
```bash
# æ¸…ç†ä¾èµ–
pnpm clean --del-lock
pnpm install

# æ£€æŸ¥ä¾èµ–å†²çª
pnpm why <package-name>
```

#### 2. TypeScript ç±»å‹é”™è¯¯
```bash
# ç±»å‹æ£€æŸ¥
pnpm typecheck

# æŸ¥çœ‹å…·ä½“é”™è¯¯
npx vue-tsc --noEmit
```

#### 3. æ„å»ºé”™è¯¯
```bash
# è¯¦ç»†æ„å»ºä¿¡æ¯
pnpm build --verbose

# åˆ†ææ„å»ºäº§ç‰©
npx vite-bundle-analyzer dist
```

#### 4. è¿è¡Œæ—¶é”™è¯¯è°ƒè¯•
```typescript
// åœ¨ç»„ä»¶ä¸­æ·»åŠ é”™è¯¯è¾¹ç•Œ
import { onErrorCaptured } from 'vue'

onErrorCaptured((error, instance, info) => {
  console.error('ç»„ä»¶é”™è¯¯:', {
    error,
    component: instance?.type.name,
    info
  })
  return false
})
```

---

## ğŸ”§ å¼€å‘å·¥å…·å‘½ä»¤

### ä»£ç è´¨é‡æ£€æŸ¥
```bash
# ESLint æ£€æŸ¥
pnpm lint

# æ ¼å¼åŒ–ä»£ç 
pnpm format

# ç±»å‹æ£€æŸ¥
pnpm typecheck
```

### æµ‹è¯•å‘½ä»¤
```bash
# å•å…ƒæµ‹è¯•
pnpm test:unit

# E2Eæµ‹è¯•
pnpm test:e2e

# æµ‹è¯•è¦†ç›–ç‡
pnpm test:coverage
```

### æ„å»ºå’Œéƒ¨ç½²
```bash
# å„ç¯å¢ƒæ„å»º
pnpm build:qa
pnpm build:uat
pnpm build:prod

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview
```

---

## ğŸŒ ç¯å¢ƒé…ç½®

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# .env.development
VITE_API_BASE_URL=http://localhost:3000
VITE_APP_TITLE=MPurse å¼€å‘ç¯å¢ƒ

# .env.uat
VITE_API_BASE_URL=https://uat-api.mpurse.com
VITE_APP_TITLE=MPurse UATç¯å¢ƒ

# .env.production
VITE_API_BASE_URL=https://api.mpurse.com
VITE_APP_TITLE=MPurse ç”Ÿäº§ç¯å¢ƒ
```

### Vite é…ç½®è¯´æ˜
```typescript
// vite.config.mts
import { defineConfig } from 'vite'
import { setupViteConfig } from '@vben/vite-config'

export default defineConfig(async ({ mode }) => {
  return setupViteConfig({
    vbenConfig: {
      target: 'chrome90',
      port: 5566, // mpurse-central ç«¯å£
      isMock: false
    }
  })
})
```

---

## ğŸ“š ä¸šåŠ¡é€»è¾‘è¯´æ˜

### æ”¯ä»˜æµç¨‹æ ¸å¿ƒé€»è¾‘
```typescript
/**
 * æ”¯ä»˜å¤„ç†æµç¨‹
 */
export class PaymentProcessor {
  /**
   * å¤„ç†æ”¯ä»˜è¯·æ±‚
   * @param paymentData æ”¯ä»˜æ•°æ®
   */
  async processPayment(paymentData: PaymentRequest): Promise<PaymentResult> {
    // 1. æ•°æ®éªŒè¯
    await this.validatePaymentData(paymentData)

    // 2. é£æ§æ£€æŸ¥
    await this.riskAssessment(paymentData)

    // 3. è°ƒç”¨æ”¯ä»˜ç½‘å…³
    const gatewayResult = await this.callPaymentGateway(paymentData)

    // 4. æ›´æ–°è®¢å•çŠ¶æ€
    await this.updateOrderStatus(paymentData.orderId, gatewayResult.status)

    // 5. å‘é€é€šçŸ¥
    await this.sendNotification(paymentData, gatewayResult)

    return gatewayResult
  }
}
```

### æƒé™æ§åˆ¶é€»è¾‘
```typescript
/**
 * æƒé™éªŒè¯ç»„åˆå‡½æ•°
 */
export const usePermission = () => {
  const userStore = useUserStore()

  /**
   * æ£€æŸ¥æ˜¯å¦æœ‰æŒ‡å®šæƒé™
   * @param permission æƒé™ä»£ç 
   */
  const hasPermission = (permission: string): boolean => {
    return userStore.permissions.includes(permission)
  }

  /**
   * æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä¸€æƒé™
   * @param permissions æƒé™æ•°ç»„
   */
  const hasAnyPermission = (permissions: string[]): boolean => {
    return permissions.some(permission => hasPermission(permission))
  }

  return {
    hasPermission,
    hasAnyPermission
  }
}
```

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### ğŸš« ç¦æ­¢äº‹é¡¹
- âŒ **ç¦æ­¢ä½¿ç”¨ npm æˆ– yarn**ï¼Œå¿…é¡»ä½¿ç”¨ pnpm
- âŒ **ç¦æ­¢ä¿®æ”¹å·²éªŒè¯æ­£ç¡®çš„åŠŸèƒ½é€»è¾‘**
- âŒ **ç¦æ­¢åˆ é™¤æœ‰ç”¨çš„æ³¨é‡Š**
- âŒ **ç¦æ­¢å¿½ç•¥ TypeScript ç±»å‹é”™è¯¯**
- âŒ **ç¦æ­¢ç›´æ¥ä¿®æ”¹ node_modules**

### âœ… å¿…é¡»äº‹é¡¹
- âœ… **æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰ JSDoc æ³¨é‡Š**
- âœ… **ä½¿ç”¨ `<script setup>` è¯­æ³•**
- âœ… **ä¼˜å…ˆä½¿ç”¨ @shared/* å…±äº«æ¨¡å—**
- âœ… **éµå¾ªç°æœ‰ä»£ç é£æ ¼**
- âœ… **ç¡®ä¿ç±»å‹å®‰å…¨**

### ğŸ”’ å®‰å…¨è¦æ±‚
- ğŸ” **API æ¥å£ä½¿ç”¨åŠ å¯†ä¼ è¾“**
- ğŸ” **æ•æ„Ÿä¿¡æ¯ä¸å¾—æš´éœ²åœ¨æ—¥å¿—ä¸­**
- ğŸ” **ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯å’Œè½¬ä¹‰**
- ğŸ” **æƒé™æ£€æŸ¥å¿…é¡»åœ¨å‰åç«¯åŒæ—¶è¿›è¡Œ**

---

## ğŸ“ è·å–å¸®åŠ©

### é¡¹ç›®æ–‡æ¡£ä½ç½®
- ğŸ“„ `CLAUDE.md` - é¡¹ç›®å¼€å‘æŒ‡å¼•
- ğŸ“„ `CHANGELOG.md` - ä¿®æ”¹è®°å½•
- ğŸ“„ `README.md` - é¡¹ç›®è¯´æ˜

### è°ƒè¯•æŠ€å·§
1. **å¯åŠ¨å¡ä½**: æ£€æŸ¥ç«¯å£å ç”¨ï¼ŒæŸ¥çœ‹æ§åˆ¶å°é”™è¯¯
2. **ä¾èµ–å†²çª**: ä½¿ç”¨ `pnpm why <package>` åˆ†æ
3. **ç±»å‹é”™è¯¯**: è¿è¡Œ `pnpm typecheck` æŸ¥çœ‹è¯¦æƒ…
4. **æ„å»ºå¤±è´¥**: æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®

### è”ç³»æ–¹å¼
å¦‚æœ‰æŠ€æœ¯é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
2. æ£€æŸ¥ CHANGELOG.md
3. è¿è¡Œç›¸åº”çš„è°ƒè¯•å‘½ä»¤
4. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---


**ğŸ¯ è®°ä½ï¼šä»£ç è´¨é‡ > å¼€å‘é€Ÿåº¦ï¼Œå®‰å…¨æ€§ > ä¾¿åˆ©æ€§**

ç¡®ä¿æ¯æ¬¡æäº¤éƒ½ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œä¿è¯é¡¹ç›®100%æ­£ç¡®äº¤ä»˜ï¼
