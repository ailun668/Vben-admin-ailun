# OpenSpec å·¥ä½œæµæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

OpenSpec æ˜¯ä¸€ä¸ªè§„èŒƒé©±åŠ¨çš„å¼€å‘å·¥ä½œæµ,å¸®åŠ©å›¢é˜Ÿé€šè¿‡ç»“æ„åŒ–çš„æ–¹å¼ç®¡ç†åŠŸèƒ½å˜æ›´ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨ç†è§£å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ OpenSpecã€‚

## ğŸ¯ ä¸‰é˜¶æ®µå·¥ä½œæµ

### é˜¶æ®µ 1: åˆ›å»ºå˜æ›´ææ¡ˆ (Creating Changes)

**ä½•æ—¶éœ€è¦åˆ›å»ºææ¡ˆ:**
- âœ… æ·»åŠ æ–°åŠŸèƒ½æˆ–èƒ½åŠ›
- âœ… è¿›è¡Œç ´åæ€§å˜æ›´ (APIã€æ•°æ®ç»“æ„)
- âœ… ä¿®æ”¹æ¶æ„æˆ–è®¾è®¡æ¨¡å¼
- âœ… æ€§èƒ½ä¼˜åŒ– (æ”¹å˜è¡Œä¸º)
- âœ… æ›´æ–°å®‰å…¨æ¨¡å¼

**ä½•æ—¶å¯ä»¥ç›´æ¥ä¿®æ”¹:**
- âŒ Bug ä¿®å¤ (æ¢å¤é¢„æœŸè¡Œä¸º)
- âŒ æ‹¼å†™ã€æ ¼å¼ã€æ³¨é‡Šä¿®æ”¹
- âŒ éç ´åæ€§ä¾èµ–æ›´æ–°
- âŒ é…ç½®æ–‡ä»¶è°ƒæ•´
- âŒ ä¸ºç°æœ‰è¡Œä¸ºæ·»åŠ æµ‹è¯•

**åˆ›å»ºææ¡ˆçš„æ­¥éª¤:**

1. **äº†è§£å½“å‰çŠ¶æ€**
   ```bash
   # æŸ¥çœ‹ç°æœ‰è§„èŒƒ
   openspec list --specs
   
   # æŸ¥çœ‹æ´»è·ƒçš„å˜æ›´
   openspec list
   
   # é˜…è¯»é¡¹ç›®çº¦å®š
   cat openspec/project.md
   ```

2. **é€‰æ‹©å”¯ä¸€çš„å˜æ›´ ID**
   - ä½¿ç”¨ kebab-case å‘½å
   - ä»¥åŠ¨è¯å¼€å¤´: `add-`, `update-`, `remove-`, `refactor-`
   - ç¤ºä¾‹: `add-two-factor-auth`, `update-user-permissions`

3. **åˆ›å»ºææ¡ˆç›®å½•ç»“æ„**
   ```bash
   CHANGE_ID="add-your-feature"
   mkdir -p openspec/changes/$CHANGE_ID/specs
   ```

4. **ç¼–å†™ææ¡ˆæ–‡ä»¶**
   
   **proposal.md** - è¯´æ˜å˜æ›´çš„åŸå› å’Œå†…å®¹:
   ```markdown
   # Change: [ç®€çŸ­æè¿°]
   
   ## Why
   [1-2 å¥è¯è¯´æ˜é—®é¢˜æˆ–æœºä¼š]
   
   ## What Changes
   - [å˜æ›´åˆ—è¡¨]
   - [æ ‡è®°ç ´åæ€§å˜æ›´ä¸º **BREAKING**]
   
   ## Impact
   - å½±å“çš„è§„èŒƒ: [åˆ—å‡ºèƒ½åŠ›]
   - å½±å“çš„ä»£ç : [å…³é”®æ–‡ä»¶/ç³»ç»Ÿ]
   ```
   
   **tasks.md** - å®æ–½æ¸…å•:
   ```markdown
   ## 1. Implementation
   - [ ] 1.1 åˆ›å»ºæ•°æ®åº“æ¨¡å‹
   - [ ] 1.2 å®ç° API ç«¯ç‚¹
   - [ ] 1.3 æ·»åŠ å‰ç«¯ç»„ä»¶
   - [ ] 1.4 ç¼–å†™æµ‹è¯•
   ```
   
   **specs/[capability]/spec.md** - è§„èŒƒå˜æ›´:
   ```markdown
   ## ADDED Requirements
   ### Requirement: æ–°åŠŸèƒ½åç§°
   ç³»ç»Ÿå¿…é¡»æä¾›...
   
   #### Scenario: æˆåŠŸåœºæ™¯
   - **WHEN** ç”¨æˆ·æ‰§è¡Œæ“ä½œ
   - **THEN** é¢„æœŸç»“æœ
   
   ## MODIFIED Requirements
   ### Requirement: ç°æœ‰åŠŸèƒ½åç§°
   [å®Œæ•´çš„ä¿®æ”¹åçš„éœ€æ±‚å†…å®¹]
   
   ## REMOVED Requirements
   ### Requirement: æ—§åŠŸèƒ½åç§°
   **Reason**: [ä¸ºä»€ä¹ˆç§»é™¤]
   **Migration**: [å¦‚ä½•å¤„ç†]
   ```

5. **éªŒè¯ææ¡ˆ**
   ```bash
   openspec validate $CHANGE_ID --strict
   ```

6. **è¯·æ±‚å®¡æ‰¹**
   - ä¸è¦åœ¨ææ¡ˆè·å¾—æ‰¹å‡†å‰å¼€å§‹å®æ–½

### é˜¶æ®µ 2: å®æ–½å˜æ›´ (Implementing Changes)

**å®æ–½æ­¥éª¤ (æŒ‰é¡ºåºå®Œæˆ):**

1. âœ… **é˜…è¯» proposal.md** - ç†è§£è¦æ„å»ºä»€ä¹ˆ
2. âœ… **é˜…è¯» design.md** (å¦‚æœå­˜åœ¨) - å®¡æŸ¥æŠ€æœ¯å†³ç­–
3. âœ… **é˜…è¯» tasks.md** - è·å–å®æ–½æ¸…å•
4. âœ… **æŒ‰é¡ºåºå®æ–½ä»»åŠ¡** - é€ä¸ªå®Œæˆ
5. âœ… **ç¡®è®¤å®Œæˆ** - ç¡®ä¿ tasks.md ä¸­çš„æ¯é¡¹éƒ½å·²å®Œæˆ
6. âœ… **æ›´æ–°æ¸…å•** - æ‰€æœ‰å·¥ä½œå®Œæˆå,å°†æ¯ä¸ªä»»åŠ¡æ ‡è®°ä¸º `- [x]`
7. âœ… **å®¡æ‰¹å…³å¡** - åœ¨ææ¡ˆå®¡æŸ¥å’Œæ‰¹å‡†å‰ä¸è¦å¼€å§‹å®æ–½

**å®æ–½è¿‡ç¨‹ä¸­:**
- éµå¾ª project.md ä¸­çš„ä»£ç è§„èŒƒ
- ä¿æŒé«˜è´¨é‡çš„ JSDoc æ³¨é‡Š
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- åŠæ—¶æ›´æ–°æ–‡æ¡£

### é˜¶æ®µ 3: å½’æ¡£å˜æ›´ (Archiving Changes)

**éƒ¨ç½²åå½’æ¡£æ­¥éª¤:**

1. **ç§»åŠ¨å˜æ›´ç›®å½•**
   ```bash
   # ä½¿ç”¨å·¥å…·è‡ªåŠ¨å½’æ¡£
   openspec archive <change-id> --yes
   
   # æˆ–æ‰‹åŠ¨ç§»åŠ¨
   mv openspec/changes/[name]/ openspec/changes/archive/YYYY-MM-DD-[name]/
   ```

2. **æ›´æ–°è§„èŒƒæ–‡ä»¶**
   - å¦‚æœèƒ½åŠ›å‘ç”Ÿå˜åŒ–,æ›´æ–° `specs/` ç›®å½•
   - å¯¹äºä»…å·¥å…·å˜æ›´,ä½¿ç”¨ `--skip-specs` æ ‡å¿—

3. **éªŒè¯å½’æ¡£**
   ```bash
   openspec validate --strict
   ```

## ğŸ” å¸¸ç”¨å‘½ä»¤

### åŸºç¡€å‘½ä»¤
```bash
# åˆ—å‡ºæ´»è·ƒçš„å˜æ›´
openspec list

# åˆ—å‡ºæ‰€æœ‰è§„èŒƒ
openspec list --specs

# æ˜¾ç¤ºå˜æ›´æˆ–è§„èŒƒè¯¦æƒ…
openspec show [item]

# éªŒè¯å˜æ›´æˆ–è§„èŒƒ
openspec validate [item]

# å½’æ¡£å·²éƒ¨ç½²çš„å˜æ›´
openspec archive <change-id> --yes
```

### è°ƒè¯•å‘½ä»¤
```bash
# æŸ¥çœ‹å˜æ›´çš„ JSON è¯¦æƒ…
openspec show [change] --json --deltas-only

# ä¸¥æ ¼æ¨¡å¼éªŒè¯
openspec validate [change] --strict

# æŸ¥çœ‹ç‰¹å®šè§„èŒƒ
openspec show [spec] --json
```

## ğŸ“ è§„èŒƒæ–‡ä»¶æ ¼å¼

### å…³é”®æ ¼å¼è¦æ±‚

**âœ… æ­£ç¡®çš„åœºæ™¯æ ¼å¼:**
```markdown
#### Scenario: ç”¨æˆ·ç™»å½•æˆåŠŸ
- **WHEN** æä¾›æœ‰æ•ˆå‡­è¯
- **THEN** è¿”å› JWT token
```

**âŒ é”™è¯¯çš„åœºæ™¯æ ¼å¼:**
```markdown
- **Scenario: ç”¨æˆ·ç™»å½•**  âŒ (ä¸è¦ç”¨åˆ—è¡¨)
**Scenario**: ç”¨æˆ·ç™»å½•     âŒ (ä¸è¦ç”¨ç²—ä½“æ ‡ç­¾)
### Scenario: ç”¨æˆ·ç™»å½•      âŒ (ä¸è¦ç”¨ä¸‰çº§æ ‡é¢˜)
```

### éœ€æ±‚æªè¾
- ä½¿ç”¨ "å¿…é¡»" (SHALL/MUST) è¡¨ç¤ºè§„èŒƒæ€§éœ€æ±‚
- é¿å…ä½¿ç”¨ "åº”è¯¥" (should) æˆ– "å¯ä»¥" (may),é™¤éæœ‰æ„ä¸ºéè§„èŒƒæ€§

### å˜æ›´æ“ä½œç±»å‹

- `## ADDED Requirements` - æ–°èƒ½åŠ›
- `## MODIFIED Requirements` - è¡Œä¸ºå˜æ›´
- `## REMOVED Requirements` - åºŸå¼ƒåŠŸèƒ½
- `## RENAMED Requirements` - åç§°å˜æ›´

## ğŸ¯ æœ€ä½³å®è·µ

### ç®€å•ä¼˜å…ˆ
- é»˜è®¤æ–°å¢ä»£ç å°‘äº 100 è¡Œ
- å•æ–‡ä»¶å®ç°,ç›´åˆ°è¯æ˜ä¸å¤Ÿç”¨
- é¿å…æ— æ˜ç¡®ç†ç”±çš„æ¡†æ¶
- é€‰æ‹©æˆç†Ÿã€å¯é çš„æ¨¡å¼

### æ¸…æ™°å¼•ç”¨
- ä½¿ç”¨ `file.ts:42` æ ¼å¼æ ‡æ³¨ä»£ç ä½ç½®
- å¼•ç”¨è§„èŒƒä¸º `specs/auth/spec.md`
- é“¾æ¥ç›¸å…³å˜æ›´å’Œ PR

### èƒ½åŠ›å‘½å
- ä½¿ç”¨åŠ¨è¯-åè¯: `user-auth`, `payment-capture`
- æ¯ä¸ªèƒ½åŠ›å•ä¸€ç›®çš„
- 10 åˆ†é’Ÿå¯ç†è§£æ€§è§„åˆ™
- å¦‚æœæè¿°éœ€è¦ "AND",åˆ™æ‹†åˆ†

### å˜æ›´ ID å‘½å
- ä½¿ç”¨ kebab-case,ç®€çŸ­ä¸”æè¿°æ€§
- ä¼˜å…ˆä½¿ç”¨åŠ¨è¯å‰ç¼€: `add-`, `update-`, `remove-`, `refactor-`
- ç¡®ä¿å”¯ä¸€æ€§;å¦‚æœé‡å¤,è¿½åŠ  `-2`, `-3` ç­‰

## â“ å¸¸è§é—®é¢˜

### "å˜æ›´å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ª delta"
- æ£€æŸ¥ `changes/[name]/specs/` æ˜¯å¦å­˜åœ¨ .md æ–‡ä»¶
- éªŒè¯æ–‡ä»¶æ˜¯å¦æœ‰æ“ä½œå‰ç¼€ (## ADDED Requirements)

### "éœ€æ±‚å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªåœºæ™¯"
- æ£€æŸ¥åœºæ™¯æ˜¯å¦ä½¿ç”¨ `#### Scenario:` æ ¼å¼ (4 ä¸ªäº•å·)
- ä¸è¦å¯¹åœºæ™¯æ ‡é¢˜ä½¿ç”¨åˆ—è¡¨æˆ–ç²—ä½“

### åœºæ™¯è§£æå¤±è´¥
- å¿…é¡»ä½¿ç”¨ç²¾ç¡®æ ¼å¼: `#### Scenario: åç§°`
- è°ƒè¯•å‘½ä»¤: `openspec show [change] --json --deltas-only`

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **openspec/project.md** - é¡¹ç›®çº¦å®šå’ŒæŠ€æœ¯æ ˆ
- **openspec/AGENTS.md** - AI åŠ©æ‰‹çš„è¯¦ç»†æŒ‡ä»¤
- **QUICK-START.md** - é¡¹ç›®å¿«é€Ÿå¯åŠ¨æŒ‡å—
- **ROUTER-SETUP-GUIDE.md** - è·¯ç”±é…ç½®æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

```bash
# 1. æ¢ç´¢å½“å‰çŠ¶æ€
openspec spec list --long
openspec list

# 2. åˆ›å»ºæ–°å˜æ›´
CHANGE=add-export-feature
mkdir -p openspec/changes/$CHANGE/specs/data-export

# 3. ç¼–å†™ææ¡ˆ
cat > openspec/changes/$CHANGE/proposal.md << 'EOF'
# Change: æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½

## Why
ç”¨æˆ·éœ€è¦å°†è¡¨æ ¼æ•°æ®å¯¼å‡ºä¸º Excel æ–‡ä»¶ä»¥ä¾¿ç¦»çº¿åˆ†æã€‚

## What Changes
- æ·»åŠ å¯¼å‡ºæŒ‰é’®åˆ°è¡¨æ ¼ç»„ä»¶
- å®ç° Excel å¯¼å‡ºåŠŸèƒ½
- æ”¯æŒ CSV å’Œ XLSX æ ¼å¼

## Impact
- å½±å“çš„è§„èŒƒ: data-export
- å½±å“çš„ä»£ç : src/components/DataTable.vue
EOF

# 4. ç¼–å†™ä»»åŠ¡æ¸…å•
cat > openspec/changes/$CHANGE/tasks.md << 'EOF'
## 1. Implementation
- [ ] 1.1 æ·»åŠ å¯¼å‡ºæŒ‰é’® UI
- [ ] 1.2 å®ç° Excel å¯¼å‡ºé€»è¾‘
- [ ] 1.3 æ·»åŠ æ ¼å¼é€‰æ‹©å™¨
- [ ] 1.4 ç¼–å†™å•å…ƒæµ‹è¯•
EOF

# 5. ç¼–å†™è§„èŒƒå˜æ›´
cat > openspec/changes/$CHANGE/specs/data-export/spec.md << 'EOF'
## ADDED Requirements
### Requirement: æ•°æ®å¯¼å‡º
ç³»ç»Ÿå¿…é¡»å…è®¸ç”¨æˆ·å°†è¡¨æ ¼æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶ã€‚

#### Scenario: å¯¼å‡ºä¸º Excel
- **WHEN** ç”¨æˆ·ç‚¹å‡»å¯¼å‡ºæŒ‰é’®å¹¶é€‰æ‹© XLSX æ ¼å¼
- **THEN** ç³»ç»Ÿç”Ÿæˆå¹¶ä¸‹è½½ Excel æ–‡ä»¶

#### Scenario: å¯¼å‡ºä¸º CSV
- **WHEN** ç”¨æˆ·ç‚¹å‡»å¯¼å‡ºæŒ‰é’®å¹¶é€‰æ‹© CSV æ ¼å¼
- **THEN** ç³»ç»Ÿç”Ÿæˆå¹¶ä¸‹è½½ CSV æ–‡ä»¶
EOF

# 6. éªŒè¯
openspec validate $CHANGE --strict

# 7. å®æ–½åå½’æ¡£
openspec archive $CHANGE --yes
```

---

**è®°ä½**: è§„èŒƒæ˜¯çœŸç›¸ã€‚å˜æ›´æ˜¯ææ¡ˆã€‚ä¿æŒå®ƒä»¬åŒæ­¥ã€‚âœ¨
